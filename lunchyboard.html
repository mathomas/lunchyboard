<head>
    <title>Lunchyboard</title>
</head>
<body>
{{> outer}}
</body>


<template name="outer">
    <div id="outer">
        {{#if occasion}}
            {{> share}}
            {{> main_page}}
        {{else}}
            {{> occasion_form}}
        {{/if}}
    </div>
</template>


<template name="share">
    <div class="row-fluid">
        <div class="span1"></div>
        <div class="span5"></div>
        <div class="span5 share">
            Share<br>
            <input type="text" readonly value="" size="58" style="display: none;"/>
        </div>
        <div class="span1"></div>
    </div>
</template>


<template name="main_page">
    <div class="row-fluid">
        <div class="span3"></div>
        <div class="span6">
            <h1>Lunchyboard</h1>
            {{#with occasion}}
                <h2>Where do you want to go for <span class="occasion">{{name}}</span>?</h2>
            {{/with}}
        </div>
        <div class="span3"></div>
    </div>
    {{> lunchyboard}}
</template>


<template name="lunchyboard">
    {{#each restaurants}}
        {{> restaurant}}
    {{/each}}

    {{>new_restaurant}}

    {{#if selected_name}}
        {{> voting}}
    {{/if}}

    <div class="row-fluid">
        <div class="span3"></div>
        <div class="span6">
            {{#if any_restaurants}}
                {{#unless selected_name}}
                    <div class="prompt">Click on a restaurant, then vote.</div>
                {{/unless}}
            {{else}}
                <div class="prompt">Start adding restaurants!</div>
            {{/if}}
        </div>
        <div class="span3"></div>
    </div>

    {{> admin}}

</template>


<template name="voting">
    <div class="row-fluid">
        <div class="span3"></div>
        <div class="span6">
            <div class="voting">
                <div class="name">Vote for: {{selected_name}}</div>
               <fieldset class="btn-group">
                   <input type="button" class="btn btn-large inc5" value="I'm Dying to Go"/>
                   <input type="button" class="btn btn-large inc3" value="I'd Like to Go"/>
                   <input type="button" class="btn btn-large inc1" value="I Wouldn't Mind Going"/>
               </fieldset>
            </div>
        </div>
        <div class="span3"></div>
    </div>
</template>


<template name="restaurant">
    <div class="row-fluid">
        <div class="span3"></div>
        <div class="span6 restaurant {{selected}}">
            <span class="name">{{name}}</span>
            <span class="deleter">&#215;</span>
            <span class="score">{{score}}</span>
        </div>
        <div class="span3"></div>
    </div>
</template>


<template name="new_restaurant">
    <div class="row-fluid">
        <div class="span3"></div>
        <div class="span6">
            <div id="new_restaurant">
                <input type="text" class="new_restaurant typeover" maxlength="100" value="Enter a Restaurant"/>
            </div>
        </div>
        <div class="span3"></div>
    </div>
</template>


<template name="admin">
    <div class="row-fluid">
        <div class="span3"></div>
        <div id="admin" class="span6">
            <input type="button" class="btn btn-large newOccasion" value="New Occasion"/>
            <!--<input type="button" class="clearScores" value="Clear Votes"/>-->
            <!--<input type="button" class="clearAll" value="Start From Scratch"/>-->
        </div>
        <div class="span3"></div>
    </div>
</template>


<template name="occasion_form">
    <div class="row-fluid">
        <div class="span4"></div>
        <div class="span4">
            <div id="occasion_form" style="display: none;">
                <div class="title">Lunchyboard</div>
                <div class="occasion">
                    <input type="text" class="new_occasion typeover" maxlength="100" value="Enter an Occasion"/><br/>
                    <span class="help">(and hit Enter)</span>
                </div>
            </div>
        </div>
        <div class="span4"></div>
    </div>
</template>



